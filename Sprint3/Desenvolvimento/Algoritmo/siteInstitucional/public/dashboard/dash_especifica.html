<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/dash_especifica.css">
  <link rel="stylesheet" href="../css/dash_geral.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <title>Dashboard Específica</title>
</head>
<body>
  
  <div class="main"> <!-- Contêiner principal -->
    <div class="navbar"> <!-- Barra lateral de Menu -->
      <div class="welcome_navbar">
        <h5>Olá, <span> ${nome} </span>!</h5>
        <h5>Bem-vindo de volta.</h5>
      </div>

      <div class="container_btn">
        <div class="btnNavbar">
          <img src="../assets/icons_navbar/predio_icon.png">
          <a href="Dash_Geral.html">Dashboard Geral</a> <!-- Ir para Dashboard Geral -->
        </div>

        <div class="btnNavbar">
          <img src="../assets/icons_navbar/predio_icon.png">
          <a href="dash_historico.html">Histórico de Alertas</a> <!-- Ir para Histórico -->
        </div>

        <div class="btnNavbar">
          <img src="../assets/icons_navbar/predio_icon.png">
          <a href="dash_portarias.html">Portaria</a> <!-- Ir para Dashboard Portaria -->
        </div>

      </div>
      <div class="btnNavbar">
        <img src="../assets/icons_navbar/logout.png">
        <a href="../login.html">Logout</a> <!-- Sair do Login -->
      </div>
    </div>

    <main class="painel"> <!-- Painel do todo conteúdo -->
      <div class="container_superior"> <!-- Contêiner superior para indicadores KPIs -->

        <div class="div_voltar">
          <button> <!-- Botão voltar à Dashboard Geral -->
            <a href="Dash_Geral.html">
              <img src="../assets/dashEspecifica/seta_voltar.png" alt="">
            </a>
          </button>
        </div>

        <div class="container_kpis"> <!-- Contêiner para todas KPIs -->
          <div class="kpi acao">
            <div id="div_acao">Ação:</div> <!-- KPI de Ação Recomendada -->
          </div>

          <div class="kpi status_local">
            <div id="div_status">Status:</div>
            <hr> <!-- KPI de Status de ALerta -->
            <div id="div_local">Local:</div> <!-- KPI de Local do Incidente -->
          </div>

          <div class="kpi atualizacao">
            <div id="div_atualizacao">Última Atualização:</div> <!-- KPI de Última Atualização -->
          </div>
        </div>
      </div>

      <div class="container_central"> <!-- Contêiner central -->
        <div class="div_legenda">
          <div><span>Prédio 2 - Apartamento 33</span></div>
          <div>Nível de Gás: </div>
        </div>

        <div class="div_grafico"> <!-- Div para Gráfico das medições dos sensores -->
          <canvas id="graficoLinha"></canvas>
        </div>

        <div class="div_sensores"> <!-- Div para Seleção de sensores -->
          <div class="sensor"><button onclick="mudar_cor()" id="btn_sensor">sensor a</button></div>
          <div class="sensor"><button onclick="mudar_cor()" id="btn_sensor">sensor b</button></div>
          <div class="sensor"><button onclick="mudar_cor()" id="btn_sensor">sensor c</button></div>
        </div>

      </div>

      

  </div>
  </main>

</body>
</html>
<script>

  function mudar_cor(){
    document.getElementById("btn_sensor").style.backgroundColor = "#2cdd61";
    document.getElementById("btn_sensor").style.color = "white";

  }
  
  const graficoUm = document.getElementById('graficoLinha').getContext('2d');
  new Chart(graficoUm, {
    type: 'line',
    data: {
      labels: [],
      datasets: [{
        label: "",
        data: [5.6, 5.9, 5.9, 8.0, 7.5, 7.3, 7.2, 7.1, 5.7, 7.8, 8.2, 8.5,],
        borderColor: 'red',
        backgroundColor: 'rgba(255, 0, 0, 0.1)',
        tension: 0.2,
        fill: true,
        pointBackgroundColor: 'red',
        pointRadius: 2,
      }]
    },
    options: {
      responsive: true,
      scales: {
        y: {
          min: 0,
          max: 10,
          ticks: {
            callback: function (value) {
              return value + '%';
            }
          },
          title: {
            display: true,
            text: 'Porcentagem'
          }
        },
        x: {
          title: {
            display: true,
            text: 'Horário'
          }
        }
      },
      plugins: {
        legend: {
          display: false,
          labels: {
            color: 'red'
          }
        },
        tooltip: {
          callbacks: {
            label: function (context) {
              return context.parsed.y + '%';
            }
          }
        }
      }
    }
  });
</script>